{"ast":null,"code":"import _asyncToGenerator from \"/home/werre79/GitProjects/CELA/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Client, Databases, Query } from 'appwrite';\nimport * as i0 from \"@angular/core\";\nexport let AppwriteService = /*#__PURE__*/(() => {\n  class AppwriteService {\n    constructor() {\n      this.client = new Client();\n      // --- 1. НАЛАШТУВАННЯ (ВСТАВ СВОЇ ДАНІ) ---\n      this.PROJECT_ID = '6963fcc6000b0653b9c1';\n      this.DB_ID = '6963fe89001222d6a894';\n      // ID Колекцій\n      this.PROJECTS_COLLECTION = 'projects';\n      this.NEWS_COLLECTION = 'news';\n      this.PUBS_COLLECTION = 'publications';\n      this.client.setEndpoint('https://cloud.appwrite.io/v1').setProject(this.PROJECT_ID);\n      this.databases = new Databases(this.client);\n    }\n    // --- МЕТОДИ ДЛЯ ОТРИМАННЯ ДАНИХ ---\n    // 1. Отримати ПРОЄКТИ (нові зверху)\n    getProjects() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response = yield _this.databases.listDocuments(_this.DB_ID, _this.PROJECTS_COLLECTION, [Query.orderDesc('$createdAt')]);\n          return response.documents; // Повертає масив проєктів\n        } catch (error) {\n          console.error('Помилка завантаження проєктів:', error);\n          return [];\n        }\n      })();\n    }\n    // 2. Отримати один ПРОЄКТ (для сторінки деталей)\n    getProjectById(id) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          return yield _this2.databases.getDocument(_this2.DB_ID, _this2.PROJECTS_COLLECTION, id);\n        } catch (error) {\n          console.error('Помилка пошуку проєкту:', error);\n          return null;\n        }\n      })();\n    }\n    // 3. Отримати НОВИНИ (сортуємо за датою публікації)\n    getNews() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response = yield _this3.databases.listDocuments(_this3.DB_ID, _this3.NEWS_COLLECTION, [Query.orderDesc('date')] // Сортуємо по полю 'date'\n          );\n          return response.documents;\n        } catch (error) {\n          console.error('Помилка завантаження новин:', error);\n          return [];\n        }\n      })();\n    }\n    // 4. Отримати ПУБЛІКАЦІЇ\n    getPublications() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response = yield _this4.databases.listDocuments(_this4.DB_ID, _this4.PUBS_COLLECTION, [Query.orderDesc('$createdAt')]);\n          return response.documents;\n        } catch (error) {\n          console.error('Помилка завантаження публікацій:', error);\n          return [];\n        }\n      })();\n    }\n    static {\n      this.ɵfac = function AppwriteService_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || AppwriteService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: AppwriteService,\n        factory: AppwriteService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return AppwriteService;\n})();","map":{"version":3,"names":["Client","Databases","Query","AppwriteService","constructor","client","PROJECT_ID","DB_ID","PROJECTS_COLLECTION","NEWS_COLLECTION","PUBS_COLLECTION","setEndpoint","setProject","databases","getProjects","_this","_asyncToGenerator","response","listDocuments","orderDesc","documents","error","console","getProjectById","id","_this2","getDocument","getNews","_this3","getPublications","_this4","factory","ɵfac","providedIn"],"sources":["/home/werre79/GitProjects/CELA/src/services/appwrite.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Client, Databases, Query } from 'appwrite';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppwriteService {\n  private client = new Client();\n  private databases: Databases;\n\n  // --- 1. НАЛАШТУВАННЯ (ВСТАВ СВОЇ ДАНІ) ---\n  private PROJECT_ID = '6963fcc6000b0653b9c1';       \n  private DB_ID = '6963fe89001222d6a894';          \n  \n  // ID Колекцій\n  private PROJECTS_COLLECTION = 'projects'; \n  private NEWS_COLLECTION = 'news';         \n  private PUBS_COLLECTION = 'publications'; \n\n  constructor() {\n    this.client\n      .setEndpoint('https://cloud.appwrite.io/v1')\n      .setProject(this.PROJECT_ID);\n\n    this.databases = new Databases(this.client);\n  }\n\n  // --- МЕТОДИ ДЛЯ ОТРИМАННЯ ДАНИХ ---\n\n  // 1. Отримати ПРОЄКТИ (нові зверху)\n  async getProjects() {\n    try {\n      const response = await this.databases.listDocuments(\n        this.DB_ID,\n        this.PROJECTS_COLLECTION,\n        [Query.orderDesc('$createdAt')]\n      );\n      return response.documents; // Повертає масив проєктів\n    } catch (error) {\n      console.error('Помилка завантаження проєктів:', error);\n      return [];\n    }\n  }\n\n  // 2. Отримати один ПРОЄКТ (для сторінки деталей)\n  async getProjectById(id: string) {\n    try {\n      return await this.databases.getDocument(\n        this.DB_ID,\n        this.PROJECTS_COLLECTION,\n        id\n      );\n    } catch (error) {\n      console.error('Помилка пошуку проєкту:', error);\n      return null;\n    }\n  }\n\n  // 3. Отримати НОВИНИ (сортуємо за датою публікації)\n  async getNews() {\n    try {\n      const response = await this.databases.listDocuments(\n        this.DB_ID,\n        this.NEWS_COLLECTION,\n        [Query.orderDesc('date')] // Сортуємо по полю 'date'\n      );\n      return response.documents;\n    } catch (error) {\n      console.error('Помилка завантаження новин:', error);\n      return [];\n    }\n  }\n\n  // 4. Отримати ПУБЛІКАЦІЇ\n  async getPublications() {\n    try {\n      const response = await this.databases.listDocuments(\n        this.DB_ID,\n        this.PUBS_COLLECTION,\n        [Query.orderDesc('$createdAt')]\n      );\n      return response.documents;\n    } catch (error) {\n      console.error('Помилка завантаження публікацій:', error);\n      return [];\n    }\n  }\n}"],"mappings":";AACA,SAASA,MAAM,EAAEC,SAAS,EAAEC,KAAK,QAAQ,UAAU;;AAKnD,WAAaC,eAAe;EAAtB,MAAOA,eAAe;IAa1BC,YAAA;MAZQ,KAAAC,MAAM,GAAG,IAAIL,MAAM,EAAE;MAG7B;MACQ,KAAAM,UAAU,GAAG,sBAAsB;MACnC,KAAAC,KAAK,GAAG,sBAAsB;MAEtC;MACQ,KAAAC,mBAAmB,GAAG,UAAU;MAChC,KAAAC,eAAe,GAAG,MAAM;MACxB,KAAAC,eAAe,GAAG,cAAc;MAGtC,IAAI,CAACL,MAAM,CACRM,WAAW,CAAC,8BAA8B,CAAC,CAC3CC,UAAU,CAAC,IAAI,CAACN,UAAU,CAAC;MAE9B,IAAI,CAACO,SAAS,GAAG,IAAIZ,SAAS,CAAC,IAAI,CAACI,MAAM,CAAC;IAC7C;IAEA;IAEA;IACMS,WAAWA,CAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA;QACf,IAAI;UACF,MAAMC,QAAQ,SAASF,KAAI,CAACF,SAAS,CAACK,aAAa,CACjDH,KAAI,CAACR,KAAK,EACVQ,KAAI,CAACP,mBAAmB,EACxB,CAACN,KAAK,CAACiB,SAAS,CAAC,YAAY,CAAC,CAAC,CAChC;UACD,OAAOF,QAAQ,CAACG,SAAS,CAAC,CAAC;QAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;UACtD,OAAO,EAAE;QACX;MAAC;IACH;IAEA;IACME,cAAcA,CAACC,EAAU;MAAA,IAAAC,MAAA;MAAA,OAAAT,iBAAA;QAC7B,IAAI;UACF,aAAaS,MAAI,CAACZ,SAAS,CAACa,WAAW,CACrCD,MAAI,CAAClB,KAAK,EACVkB,MAAI,CAACjB,mBAAmB,EACxBgB,EAAE,CACH;QACH,CAAC,CAAC,OAAOH,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;UAC/C,OAAO,IAAI;QACb;MAAC;IACH;IAEA;IACMM,OAAOA,CAAA;MAAA,IAAAC,MAAA;MAAA,OAAAZ,iBAAA;QACX,IAAI;UACF,MAAMC,QAAQ,SAASW,MAAI,CAACf,SAAS,CAACK,aAAa,CACjDU,MAAI,CAACrB,KAAK,EACVqB,MAAI,CAACnB,eAAe,EACpB,CAACP,KAAK,CAACiB,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;WAC3B;UACD,OAAOF,QAAQ,CAACG,SAAS;QAC3B,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;UACnD,OAAO,EAAE;QACX;MAAC;IACH;IAEA;IACMQ,eAAeA,CAAA;MAAA,IAAAC,MAAA;MAAA,OAAAd,iBAAA;QACnB,IAAI;UACF,MAAMC,QAAQ,SAASa,MAAI,CAACjB,SAAS,CAACK,aAAa,CACjDY,MAAI,CAACvB,KAAK,EACVuB,MAAI,CAACpB,eAAe,EACpB,CAACR,KAAK,CAACiB,SAAS,CAAC,YAAY,CAAC,CAAC,CAChC;UACD,OAAOF,QAAQ,CAACG,SAAS;QAC3B,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;UACxD,OAAO,EAAE;QACX;MAAC;IACH;;;yCAhFWlB,eAAe;MAAA;IAAA;;;eAAfA,eAAe;QAAA4B,OAAA,EAAf5B,eAAe,CAAA6B,IAAA;QAAAC,UAAA,EAFd;MAAM;IAAA;;SAEP9B,eAAe;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}