{"ast":null,"code":"import _asyncToGenerator from \"/home/werre79/GitProjects/CELA/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Client, Databases, Query, ID } from 'appwrite'; // <-- Перевірте, чи є тут 'ID'\nimport * as i0 from \"@angular/core\";\nexport let AppwriteService = /*#__PURE__*/(() => {\n  class AppwriteService {\n    constructor() {\n      this.client = new Client();\n      // --- ВАШІ ID ---\n      this.PROJECT_ID = '6963fcc6000b0653b9c1';\n      this.DB_ID = '6963fe89001222d6a894';\n      // ID Колекцій\n      this.PROJECTS_COLLECTION = 'projects';\n      this.NEWS_COLLECTION = 'news';\n      this.PUBS_COLLECTION = 'publications';\n      this.REQUESTS_COLLECTION = 'requests'; // <-- Переконайтесь, що цей рядок є\n      this.client.setEndpoint('https://cloud.appwrite.io/v1').setProject(this.PROJECT_ID);\n      this.databases = new Databases(this.client);\n    }\n    // --- МЕТОДИ ОТРИМАННЯ ДАНИХ ---\n    getProjects() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response = yield _this.databases.listDocuments(_this.DB_ID, _this.PROJECTS_COLLECTION, [Query.orderDesc('$createdAt')]);\n          return response.documents;\n        } catch (error) {\n          console.error('Appwrite Error (Projects):', error);\n          return [];\n        }\n      })();\n    }\n    getProjectById(documentId) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          return yield _this2.databases.getDocument(_this2.DB_ID, _this2.PROJECTS_COLLECTION, documentId);\n        } catch (error) {\n          console.error('Appwrite Error (Project Detail):', error);\n          return null;\n        }\n      })();\n    }\n    getNews() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response = yield _this3.databases.listDocuments(_this3.DB_ID, _this3.NEWS_COLLECTION, [Query.orderDesc('date')]);\n          return response.documents;\n        } catch (error) {\n          console.error('Appwrite Error (News):', error);\n          return [];\n        }\n      })();\n    }\n    getPublications() {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response = yield _this4.databases.listDocuments(_this4.DB_ID, _this4.PUBS_COLLECTION, [Query.orderDesc('$createdAt')]);\n          return response.documents;\n        } catch (error) {\n          console.error('Appwrite Error (Publications):', error);\n          return [];\n        }\n      })();\n    }\n    // --- ОСЬ ЦІЄЇ ФУНКЦІЇ ВАМ НЕ ВИСТАЧАЄ ---\n    sendRequest(data) {\n      var _this5 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          return yield _this5.databases.createDocument(_this5.DB_ID, _this5.REQUESTS_COLLECTION, ID.unique(), data);\n        } catch (error) {\n          console.error('Помилка відправки форми:', error);\n          throw error;\n        }\n      })();\n    }\n    static {\n      this.ɵfac = function AppwriteService_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || AppwriteService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: AppwriteService,\n        factory: AppwriteService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return AppwriteService;\n})();","map":{"version":3,"names":["Client","Databases","Query","ID","AppwriteService","constructor","client","PROJECT_ID","DB_ID","PROJECTS_COLLECTION","NEWS_COLLECTION","PUBS_COLLECTION","REQUESTS_COLLECTION","setEndpoint","setProject","databases","getProjects","_this","_asyncToGenerator","response","listDocuments","orderDesc","documents","error","console","getProjectById","documentId","_this2","getDocument","getNews","_this3","getPublications","_this4","sendRequest","data","_this5","createDocument","unique","factory","ɵfac","providedIn"],"sources":["/home/werre79/GitProjects/CELA/src/services/appwrite.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Client, Databases, Query, ID } from 'appwrite'; // <-- Перевірте, чи є тут 'ID'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppwriteService {\n  private client = new Client();\n  private databases: Databases;\n\n  // --- ВАШІ ID ---\n  private PROJECT_ID = '6963fcc6000b0653b9c1';\n  private DB_ID = '6963fe89001222d6a894';\n  \n  // ID Колекцій\n  private PROJECTS_COLLECTION = 'projects';\n  private NEWS_COLLECTION = 'news';\n  private PUBS_COLLECTION = 'publications';\n  private REQUESTS_COLLECTION = 'requests'; // <-- Переконайтесь, що цей рядок є\n\n  constructor() {\n    this.client\n      .setEndpoint('https://cloud.appwrite.io/v1')\n      .setProject(this.PROJECT_ID);\n\n    this.databases = new Databases(this.client);\n  }\n\n  // --- МЕТОДИ ОТРИМАННЯ ДАНИХ ---\n\n  async getProjects() {\n    try {\n      const response = await this.databases.listDocuments(\n        this.DB_ID,\n        this.PROJECTS_COLLECTION,\n        [Query.orderDesc('$createdAt')]\n      );\n      return response.documents;\n    } catch (error) {\n      console.error('Appwrite Error (Projects):', error);\n      return [];\n    }\n  }\n\n  async getProjectById(documentId: string) {\n    try {\n      return await this.databases.getDocument(\n        this.DB_ID,\n        this.PROJECTS_COLLECTION,\n        documentId\n      );\n    } catch (error) {\n      console.error('Appwrite Error (Project Detail):', error);\n      return null;\n    }\n  }\n\n  async getNews() {\n    try {\n      const response = await this.databases.listDocuments(\n        this.DB_ID,\n        this.NEWS_COLLECTION,\n        [Query.orderDesc('date')]\n      );\n      return response.documents;\n    } catch (error) {\n      console.error('Appwrite Error (News):', error);\n      return [];\n    }\n  }\n\n  async getPublications() {\n    try {\n      const response = await this.databases.listDocuments(\n        this.DB_ID,\n        this.PUBS_COLLECTION,\n        [Query.orderDesc('$createdAt')]\n      );\n      return response.documents;\n    } catch (error) {\n      console.error('Appwrite Error (Publications):', error);\n      return [];\n    }\n  }\n\n  // --- ОСЬ ЦІЄЇ ФУНКЦІЇ ВАМ НЕ ВИСТАЧАЄ ---\n  async sendRequest(data: { name: string, email: string, message: string }) {\n    try {\n      return await this.databases.createDocument(\n        this.DB_ID,\n        this.REQUESTS_COLLECTION,\n        ID.unique(),\n        data\n      );\n    } catch (error) {\n      console.error('Помилка відправки форми:', error);\n      throw error;\n    }\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}